# Документация для модуля 'Container' в `TTvActionHub.LuaTools.Services.Container`

Этот модуль предоставляет интерфейс для простого хранилища данных типа "ключ-значение" внутри приложения. Он позволяет сохранять, извлекать, проверять наличие и удалять данные по строковому ключу (имени). Данные, как правило, хранятся в течение текущей сессии приложения, но после остановки сервиса данные будут сохранены на диск.

## Подключение в файле конфигурации

Пример подключение модуля:

```lua
local Container = import('TTvActionHub', 'TTvActionHub.LuaTools.Services').Container
```

## Доступные методы

### Основные операции

| Метод                      | Описание                                                                                                                      |
|----------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| `Contains(string name)`    | Проверяет, существует ли в хранилище запись с указанным именем (`name`). Возвращает `boolean` (`true` или `false`).           |
| `RemoveValue(string name)` | Удаляет запись с указанным именем (`name`) из хранилища. Возвращает `boolean` (`true`, если удаление успешно, иначе `false`). |

### Методы для базовых типов (Рекомендуемые для Lua)

Эти методы предоставляют удобный способ работы с основными типами данных Lua.

| Метод                                     | Описание                                                                                                                                               |
|:------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------|
| `InsertInt(string name, int value)`       | Сохраняет или обновляет целочисленное (`number`) значение `value` под именем `name`.                                                                   |
| `GetInt(string name)`                     | Извлекает целочисленное (`number`) значение по имени `name`. Возвращает `number` или `nil`, если запись не найдена или имеет другой тип.               |
| `InsertChar(string name, char value)`     | Сохраняет или обновляет символьное (`string` длиной 1) значение `value` под именем `name`.                                                             |
| `GetChar(string name)`                    | Извлекает символьное (`string` длиной 1) значение по имени `name`. Возвращает `string` или `nil`, если запись не найдена или имеет другой тип.         |
| `InsertBool(string name, bool value)`     | Сохраняет или обновляет булево (`boolean`) значение `value` под именем `name`.                                                                         |
| `GetBool(string name)`                    | Извлекает булево (`boolean`) значение по имени `name`. Возвращает `boolean` или `nil`, если запись не найдена или имеет другой тип.                    |
| `InsertString(string name, string value)` | Сохраняет или обновляет строковое (`string`) значение `value` под именем `name`.                                                                       |
| `GetString(string name)`                  | Извлекает строковое (`string`) значение по имени `name`. Возвращает `string` или `nil`, если запись не найдена или имеет другой тип.                   |
| `InsertDouble(string name, double value)` | Сохраняет или обновляет числовое с плавающей точкой (`number`) значение `value` под именем `name`.                                                     |
| `GetDouble(string name)`                  | Извлекает числовое с плавающей точкой (`number`) значение по имени `name`. Возвращает `number` или `nil`, если запись не найдена или имеет другой тип. |

**Уточнения**:

- **Имена (Ключи):** Имена (`name`) должны быть непустыми строками. Использование некорректных имен приведет к ошибке.
- **Типы данных:** При использовании методов `Get<Type>` (например, `GetInt`), если в хранилище под этим именем находится значение другого типа, метод вернет `nil`.
- **`nil`:** Возвращаемое значение `nil` из методов `Get<Type>` или `GetValue` означает, что-либо ключ не найден, либо сохраненное значение имеет несовместимый тип (в случае `Get<Type>`).

## Пример использования

```lua
local Container = import('TTvActionHub', 'TTvActionHub.LuaTools.Services').Container

-- Сохранить имя пользователя (строка)
Container.InsertString('username', 'CoolUser123')

-- Сохранить количество очков (целое число)
Container.InsertInt('score', 1500)

-- Сохранить флаг активации (булево)
Container.InsertBool('isEnabled', true)

-- Проверить, существует ли значение 'score'
if Container.Contains('score') then
    -- Получить значение 'score'
    local currentScore = Container.GetInt('score')
    if currentScore then -- Убедиться, что значение получено (не nil)
        print('Текущий счет: ' .. currentScore)
        -- Увеличить счет и сохранить обратно
        Container.InsertInt('score', currentScore + 100)
    else
        print('Не удалось получить счет (возможно, сохранен другой тип данных).')
    end
else
    print('Запись о счете не найдена.')
end

-- Получить имя пользователя
local user = Container.GetString('username')
print('Имя пользователя: ' .. (user or 'Не задано')) -- Выведет 'CoolUser123' или 'Не задано', если ключ не найден

-- Удалить флаг активации
local wasRemoved = Container.RemoveValue('isEnabled')
if wasRemoved then
    print('Флаг isEnabled удален.')
else
    print('Не удалось удалить флаг isEnabled (возможно, его уже не было).')
end

-- Попытка получить удаленное значение вернет nil
local enabledStatus = Container.GetBool('isEnabled')
if enabledStatus == nil then
    print('Статус isEnabled теперь nil (не найден).')
end
```
